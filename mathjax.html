<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>公式编辑器</title>
	<script type="text/javascript">
		function add(){
			var para=document.createElement("p");
			var text=document.getElementById('inputText');
			var node=document.createTextNode(text.value);
			para.appendChild(node);
			var element=document.getElementById("showArea");
		    element.appendChild(para);
		}
		function show(){
			loadjs("http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML");
			var element=document.getElementById("button-group");
			var button=document.getElementById('add');
			element.removeChild(button);
			var button=document.getElementById('show');
			element.removeChild(button);
			var button=document.createElement('input');
			button.setAttribute('type', 'button');
			button.setAttribute('value', '刷新页面');
			button.setAttribute('onclick', 'refresh()');
		    element.appendChild(button);
		}
		function refresh(){
			window.location.reload();
		}
		function loadjs(script_filename) {
		    var script = document.createElement('script');
		    script.setAttribute('type', 'text/javascript');
		    script.setAttribute('src', script_filename);
		    script.setAttribute('id', 'MathJax');
		    script_id = document.getElementById('MathJax');
		    if(script_id){
		        document.getElementsByTagName('head')[0].removeChild(script_id);
		    }
		    document.getElementsByTagName('head')[0].appendChild(script);
		}
	</script>
</head>
<body>
	<textarea name="inputArea" id="inputText" cols="30" rows="10"></textarea>
	<div id="button-group">
		<input type="button" id="add" onclick="add()" value="添加公式">
		<input type="button" id="show" onclick="show()" value="显示公式">
	</div>
	<hr>
	<div id="showArea">
		<p>下面是公式的显示区域</p>
		<p>\( \frac{1}{2} +  \frac{1}{3} + \cdots + \frac{1}{n} \geq S_{n} \)</p>
	</div>
</body>
</html>